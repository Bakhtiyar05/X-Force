<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-FORCE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

    <main>


        <!-- Header -->

        <header id="header">
            <div class="container-fluid">
                <div class="container-fluid d-flex justify-content-between align-items-center">
                    <ul>
                        <li><a href="#contact">Əlaqə</a></li>
                    </ul>
                    <ul class="phoneNumber">
                        <li class=" d-flex">
                            <span><i class="fa-solid fa-phone"></i></span>
                            <p>+9941234567</p>
                        </li>
                    </ul>
                    <ul class="socilaMedia d-flex">
                        <li><a href="">o</a></li>
                        <li><a href="">o</a></li>
                        <li><a href="">o</a></li>
                    </ul>
                </div>
            </div>
        </header>




        <!-- Navbar -->

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navBarLogo navbar-brand" href="#">
                    <img src="./assets/img/logo.png" alt="">
                </a>
                <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="#">Ana səhifə</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#products">Məhsullar</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">Haqqımızda</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Əlaqə</a>
                        </li>
                        <li class="nav-item nav-item-location d-flex flex-column">
                            <a class="nav-link" href="#ourLocation"><i class="fa-solid fa-location-dot"></i> Bizim ünvan</a>
                        </li>
                    </ul>
                    <form class="desktopNavBarSearch navBarSearch">
                        <div class="d-flex">
                            <input class="form-control" type="search" placeholder="Saytda axtar..." aria-label="Search">
                            <button class="btn btn-outline-success" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                        </div>
                    </form>
                </div>
            </div>
        </nav>

        


        <!-- Banner -->

        <section id="Banner">
            <form class="mobileNavBarSearch navBarSearch p-2">
                <div class="d-flex">
                    <input class="form-control" type="search" placeholder="Saytda axtar..." aria-label="Search">
                    <button class="btn btn-outline-success" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                </div>
            </form>
            <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner" id="carouselContent">
                    <!-- Banner data -->
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>




        <!-- Products -->

        <section id="products" class="container-fluid d-flex flex-wrap">

            <div class="title_FilterSort">
                <h2>Bütün Məhsullar</h2>
                <div class="sortBox">
                    <div class="sortByAlphabe">
                        <select class="form-select" aria-label="Default select example" id="alphabeticalSort">
                            <option value="desc">Z - A</option>
                            <option value="asc">A - Z</option>
                        </select>
                    </div>
                    <div class="sortByPrice">
                        <select class="form-select" aria-label="Default select example" id="priceSort">
                            <option value="asc">Ucuzdan - Bahaya</option>
                            <option value="desc">Bahadan - Ucuza</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <hr />
            <div class="productCards" id="productCardContent">
                <!-- <div class="productCard">
                    <div class="cardImg">
                        <img src="./assets/img/Banner1.jpg" class="d-block w-100" alt="...">
                    </div>
                    <article class="productCode">
                        <p>Məhsulun kodu: 1</p>
                    </article>
                    <article class="productInfo">
                        <article class="info">
                            <h5 class="productName">Aaaa</h5>
                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Consequatur error, incidunt itaque et veniam mollitia.</p>
                            <div class="infoPower">
                                <p>Watt: 1200</p>
                                <p>Wolt: 220</p>
                            </div>
                        </article>
                        <article class="productPrices">
                            <p class="oldPrice">499 azn</p>
                            <p class="newPrice">399 azn</p>
                        </article>
                    </article>
                </div> -->
            </div>

            <div aria-label="..." class="mx-auto mt-5">
                <ul id="pagination" class="pagination">
                    <li class="page-item disabled" id="previousPage">
                        <span class="page-link">Əvvəl</span>
                    </li>
                    <li class="page-item">
                        <span class="page-link" id="nextPage">Növbəti</span>
                    </li>
                </ul>
            </div>

        </section>



        <!-- Contact -->
        
        <section id="contact">
            <div class="contactBox">
                <div class="overlayContact"></div>
                <div class="contactBackImg">
                    <img src="./assets/img/Banner1.jpg" alt="">
                </div>
                <div class="contactForm">
                    <form class="formGroup" id="contact-form">
                        <div class="form-row">
                            <h2>Bizimlə əlaqə</h2>
                            <div class="form-group col-md-12">
                                <input type="text" class="form-control" id="inputName" name="user_name" placeholder="Name">
                            </div>
                            <div class="form-group col-md-12">
                                <input type="email" class="form-control" id="inputEmail" name="user_email" placeholder="Email">
                            </div>
                            <div class="form-group">
                                <textarea class="form-control" id="inputMessage" rows="3" name="user_message" placeholder="Your Message..."></textarea>
                            </div>
                            <button type="submit" value="Send" class="btn contactSendBtn">Send message</button>
                        </div>
                        <div class="contactInfo">
                            <div class="infoContact">
                                <div class="email">
                                    <span><i class="fa-solid fa-envelope"></i></span> <p>example@mail.com</p>
                                </div>
                                <div class="phoneNumber">
                                    <span><i class="fa-solid fa-phone"></i></span> <p>+99941234567</p>
                                </div>
                                <div class="address">
                                    <span><i class="fa-solid fa-location-dot"></i></span> <p>Azerbaijan, Baku, Str.Wall</p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div id="ourLocation" class="contactMaps">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3039.287287868392!2d49.82878807512867!3d40.380324971445454!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40307d980a05a829%3A0x96a2265bba633690!2sNizami%20st.!5e0!3m2!1sen!2saz!4v1715344627592!5m2!1sen!2saz"" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>

        </section>


        
        <!-- Footer -->

        <section id="footer">
            <div class="footerContainer container-fluid">
                <div class="footerLogo">
                    <h5>Logo</h5>
                </div>
                <div class="copyright">
                    <span><i class="fa-regular fa-copyright"></i></span> Bütün hüquqlar qorunur X-FORCE 2024
                </div>
                <div class="test">
                    test
                </div>
            </div>
        </section>
    </main>

    <script>

        /* Banner Fetch */

        async function fetchBanners() {
            try {
                const response = await fetch('http://localhost:3000/api/banners');
                const banners = await response.json();
                displayBanners(banners);
            } catch (error) {
                console.log('Error fetching banners:', error);
            }
        }

        function displayBanners(banners) {
            const carouselContent = document.getElementById('carouselContent');
            carouselContent.innerHTML = '';

            banners.forEach((banner, index) => {
                const activeClass = index === 0 ? 'active' : '';
                const carouselItem = document.createElement('div');
                carouselItem.className = `carousel-item ${activeClass}`;
                carouselItem.setAttribute('data-bs-interval', '3000');

                carouselItem.innerHTML = `
                    <img src="${banner.bannerImg}" class="d-block w-100" alt="">
                    <div class="carousel-caption d-md-block">
                        <h5>${banner.bannerTitle}</h5>
                        <p>${banner.bannerText}</p>
                        <small class='bannerProductCode'>Məhsul kodu: ${banner.bannerProductCode}</>
                    </div>
                `;

                carouselContent.appendChild(carouselItem);
            });
        }

        fetchBanners();


        /* Product Fetch */

        async function productFetch() {
            try {
                const response = await fetch('http://localhost:3000/api/products');
                const products = await response.json();
                displayProducts(products);
            } catch (error) {
                console.error('Error fetching products:', error);
            }
        }


        function displayProducts(products) {
            const productCardContent = document.getElementById('productCardContent');

            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'productCard card';

                const priceHtml = product.productOldPrice ?
                    `<p class="oldPrice">${product.productOldPrice} azn</p>
                    <p class="newPrice">${product.productNewPrice} azn</p>` :
                    `<p class="newPrice">${product.productNewPrice} azn</p>`;

                productCard.innerHTML = `
                    <div class="cardImg card-img-top">
                        <img src="${product.productImg}" class="d-block w-100" alt="${product.productName}">
                    </div>
                    <div class="card-body">
                        <article class="productCode">
                            <p>Məhsulun kodu: ${product.productProdCode}</p>
                        </article>
                        <article class="productInfo">
                            <article class="info">
                                <h5 class="productName card-title">${product.productTitle}</h5>
                                <p class="card-text">${product.productInfo}</p>
                                <div class="infoPower">
                                    <p>Watt: ${product.productWatt}</p>
                                    <p>Wolt: ${product.productWolt}</p>
                                </div>
                            </article>
                            <article class="productPrices">
                                ${priceHtml}
                            </article>
                        </article>
                    </div>
                `;

                productCardContent.appendChild(productCard);
            });
        }


        productFetch();



        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script>


    <!-- Email js -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>


    <script src="main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>

